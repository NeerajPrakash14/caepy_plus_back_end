# =============================================================================
# Doctor Onboarding Service - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values for your environment.
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=doctor-onboarding-service
APP_VERSION=2.0.0
ENVIRONMENT=development  # development | staging | production

# Debug mode - MUST be false in production
DEBUG=false

# Log level - DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
HOST=0.0.0.0
PORT=8000

# CORS Origins (comma-separated for multiple origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
# Connection URL format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/doctor_onboarding

# Connection pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# -----------------------------------------------------------------------------
# Redis Configuration (for OTP storage, rate limiting, caching)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=

# Set to true to use in-memory storage instead of Redis (dev only)
USE_MEMORY_STORAGE=false

# -----------------------------------------------------------------------------
# Authentication & Security
# -----------------------------------------------------------------------------
# JWT Secret Key - MUST be a strong random string in production
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production

# JWT token expiration in seconds (default: 30 minutes)
JWT_EXPIRATION_SECONDS=1800

# API Key for internal service-to-service authentication
API_KEY=

# -----------------------------------------------------------------------------
# OTP Configuration
# -----------------------------------------------------------------------------
# OTP expiration in seconds (default: 5 minutes)
OTP_EXPIRATION_SECONDS=300

# OTP length (default: 6 digits)
OTP_LENGTH=6

# Maximum OTP attempts before lockout
OTP_MAX_ATTEMPTS=5

# Lockout duration in seconds after max attempts
OTP_LOCKOUT_SECONDS=900

# -----------------------------------------------------------------------------
# SMS Gateway Configuration (OnlySMS)
# -----------------------------------------------------------------------------
SMS_API_URL=https://onlysms.co.in/api/otp.aspx
SMS_USER_ID=your_sms_user_id
SMS_PASSWORD=your_sms_password
SMS_SENDER_ID=LinQMD
SMS_PE_ID=your_pe_id
SMS_TEMPLATE_ID=your_template_id

# -----------------------------------------------------------------------------
# Google Cloud / AI Configuration
# -----------------------------------------------------------------------------
# Gemini API Key for AI-powered extraction
GOOGLE_API_KEY=your_google_api_key

# Google Cloud Storage bucket for file uploads
GCS_BUCKET_NAME=your_bucket_name
GCS_PROJECT_ID=your_project_id

# Path to service account JSON (optional if using default credentials)
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# -----------------------------------------------------------------------------
# Azure Blob Storage Configuration (Alternative to GCS)
# -----------------------------------------------------------------------------
AZURE_STORAGE_CONNECTION_STRING=
AZURE_STORAGE_CONTAINER_NAME=doctor-documents

# -----------------------------------------------------------------------------
# LinQMD API Integration
# -----------------------------------------------------------------------------
LINQMD_API_URL=https://api.linqmd.com
LINQMD_API_KEY=your_linqmd_api_key

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# Requests per minute for general endpoints
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60

# OTP-specific rate limiting
OTP_RATE_LIMIT_REQUESTS=5
OTP_RATE_LIMIT_WINDOW_SECONDS=300

# -----------------------------------------------------------------------------
# File Upload Limits
# -----------------------------------------------------------------------------
# Maximum file size in bytes (default: 10MB)
MAX_FILE_SIZE_BYTES=10485760

# Allowed file extensions (comma-separated)
ALLOWED_FILE_EXTENSIONS=.pdf,.doc,.docx,.jpg,.jpeg,.png

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
# Enable/disable features for different environments
FEATURE_VOICE_ONBOARDING=true
FEATURE_RESUME_EXTRACTION=true
FEATURE_LINQMD_SYNC=true

# -----------------------------------------------------------------------------
# Monitoring & Observability
# -----------------------------------------------------------------------------
# Sentry DSN for error tracking (optional)
SENTRY_DSN=

# OpenTelemetry endpoint for tracing (optional)
OTEL_EXPORTER_OTLP_ENDPOINT=

# -----------------------------------------------------------------------------
# Development Only Settings
# -----------------------------------------------------------------------------
# Enable dangerous endpoints (NEVER true in production)
ENABLE_DEV_ENDPOINTS=false

# Mock external services for testing
MOCK_SMS_SERVICE=false
MOCK_AI_SERVICE=false
